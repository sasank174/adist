<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous">
    </script>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.4/css/all.css"
        integrity="sha384-DyZ88mC6Up2uqS4h/KRgHuoeGwBcD4Ng9SiP4dIRy0EXTlnuz47vAwmeGwVChigm" crossorigin="anonymous">
    <link rel="stylesheet" href="{{ url_for('static',filename='css/adview.css') }}">
    <title>ADIST || Adview</title>
</head>

<body>
    <header>
        <h1><span>A</span>dist</h1>
    </header>
    <div class="progressbar"></div>

    <button onclick="pause();">pause</button>
    <button onclick="play();">play</button>
    <div id="demo"></div>

    <script>
        var progressbar = document.querySelector('.progressbar');

        function createProgressbar(duration, callback) {
            var progressbarinner = document.createElement('div');
            progressbarinner.className = 'inner';

            progressbarinner.style.animationDuration = duration + 's';
            if (typeof (callback) === 'function') {
                progressbarinner.addEventListener('animationend', callback);
            }

            progressbar.appendChild(progressbarinner);
            progressbarinner.style.animationPlayState = 'running';
        }

        window.onload = function () {
            document.querySelector('#demo').innerHTML = '{{ duration }}';
            createProgressbar("{{ duration }}", function () {
                alert('10s progressbar is finished!');
            });
        };

        function pause() {
            progressbar.querySelector('.inner').style.animationPlayState = 'paused';
        }

        function play() {
            progressbar.querySelector('.inner').style.animationPlayState = 'running';
        }
    </script>
</body>

</html>